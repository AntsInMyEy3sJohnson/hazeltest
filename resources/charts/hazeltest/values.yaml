replicaCount: 1

image:
  registry: docker.io
  organization: antsinmyey3sjohnson
  repository: hazeltest
  # 0.8.0
  digest: bf3aa17c6130078da0882ecc78b8c7b65e4e64c26d57a753ae3704c12d2e131d
  pullPolicy: IfNotPresent

httpPort: 8080
resources:
  requests:
    cpu: "500m"
    memory: "32Mi"
  limits:
    cpu: "1"
    memory: "64Mi"

startupArgs:
  - "-config-file=/data/config/custom-config.yaml"
  - "-use-unisocket-client=false"

env:
  # Name of the Hazelcast cluster to connect to -- usually configured in Hazelcast by means of the "hazelcast.cluster-name" property
  hzCluster: "hazelcastplatform"
  # Can be IP addresses or Kubernetes services names
  # Accepts multiple comma-separated values ("service1,service2,service3")
  hzMembers: "hazelcastimdg.hazelcastplatform.svc.cluster.local:5701"
  # Set this to TRACE if you want to make the people running your IT department's logging platform very angry
  logLevel: INFO

config:
  # For documentation on these properties, please refer to <repo root>/client/defaultConfig.yaml
  chaosMonkeys:
    memberKiller:
      enabled: true
      numRuns: 100
      chaosProbability: 1.0
      memberAccess:
        # Can take the value of one of its immediate object-type sub-keys, i.e. 'k8sOutOfCluster' or 'k8sInCluster'
        mode: k8sInCluster
        targetOnlyActive: true
        k8sOutOfCluster:
          # If 'default' is given, Hazeltest will look for the Kubeconfig in $HOME/.kube/config.
          # In non-default cases, the absolute path of the file to be used can be specified.
          kubeconfig: default
          namespace: hazelcastplatform
          labelSelector: app.kubernetes.io/name=hazelcastimdg
        k8sInCluster:
          labelSelector: app.kubernetes.io/name=hazelcastimdg
      sleep:
        enabled: true
        durationSeconds: 60
        enableRandomness: false
      memberGrace:
        enabled: true
        durationSeconds: 30
        enableRandomness: true
  queueTests:
    tweets:
      enabled: false
      numQueues: 10
      appendQueueIndexToQueueName: true
      appendClientIdToQueueName: true
      queuePrefix:
        enabled: true
        prefix: "ht_"
      putConfig:
        enabled: true
        numRuns: 500
        batchSize: 50
        sleeps:
          initialDelay:
            enabled: false
            durationMs: 2000
            enableRandomness: false
          betweenActionBatches:
            enabled: true
            durationMs: 2000
            enableRandomness: true
          betweenRuns:
            enabled: true
            durationMs: 5000
            enableRandomness: true
      pollConfig:
        enabled: true
        numRuns: 500
        batchSize: 50
        sleeps:
          initialDelay:
            enabled: true
            durationMs: 2000
            enableRandomness: false
          betweenActionBatches:
            enabled: true
            durationMs: 2000
            enableRandomness: true
          betweenRuns:
            enabled: true
            durationMs: 5000
            enableRandomness: true
    load:
      enabled: false
      numQueues: 10
      numLoadEntries: 50
      payloadSizeBytes: 10
      appendQueueIndexToQueueName: true
      appendClientIdToQueueName: true
      queuePrefix:
        enabled: true
        prefix: "ht_"
      putConfig:
        enabled: true
        numRuns: 500
        batchSize: 50
        sleeps:
          initialDelay:
            enabled: false
            durationMs: 2000
            enableRandomness: false
          betweenActionBatches:
            enabled: true
            durationMs: 1000
            enableRandomness: true
          betweenRuns:
            enabled: true
            durationMs: 3500
            enableRandomness: true
      pollConfig:
        enabled: true
        numRuns: 500
        batchSize: 50
        sleeps:
          initialDelay:
            enabled: true
            durationMs: 2000
            enableRandomness: false
          betweenActionBatches:
            enabled: true
            durationMs: 1000
            enableRandomness: true
          betweenRuns:
            enabled: true
            durationMs: 3500
            enableRandomness: true
  mapTests:
    pokedex:
      enabled: false
      numMaps: 10
      appendMapIndexToMapName: true
      appendClientIdToMapName: true
      numRuns: 10000
      mapPrefix:
        enabled: true
        prefix: "ht_"
      sleeps:
        betweenActionBatches:
          enabled: true
          durationMs: 500
          enableRandomness: true
        betweenRuns:
          enabled: true
          durationMs: 1000
          enableRandomness: true
    load:
      enabled: false
      numMaps: 10
      numEntriesPerMap: 50000
      payloadSizeBytes: 1000000
      appendMapIndexToMapName: true
      appendClientIdToMapName: true
      numRuns: 10000
      mapPrefix:
        enabled: true
        prefix: "ht_"
      sleeps:
        betweenActionBatches:
          enabled: true
          durationMs: 200
          enableRandomness: true
        betweenRuns:
          enabled: true
          durationMs: 1300
          enableRandomness: true